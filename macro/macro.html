<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>📊 Macro Indicatoren</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="macro-container">
  <h2>📊 Macro Indicatoren</h2>

  <button class="btn-add" onclick="addMacroRow()">➕ Indicator toevoegen</button>

  <table id="macroTable">
    <thead>
      <tr>
        <th class="sortable" data-key="name">Indicator</th>
        <th class="sortable" data-key="value">Huidig Niveau</th>
        <th>Trend</th>
        <th>Interpretatie</th>
        <th>Actie</th>
        <th class="sortable" data-key="score">Score</th>
        <th>Bewerk</th>
        <th>Verwijder</th>
      </tr>
    </thead>
    <tbody id="macroBody">
      <tr>
        <td>Fear & Greed Index</td>
        <td id="fearGreed">📡 Laden...</td>
        <td id="fearGreedTrend" class="trend-cell">N/A</td>
        <td id="fearGreedInterpretation">N/A</td>
        <td id="fearGreedAction">N/A</td>
        <td class="macro-score" id="fearGreedScore">-</td>
        <td><button onclick="editIndicator('fear_greed_index')">✏️</button></td>
        <td><button onclick="deleteMacroIndicator('fear_greed_index')">❌</button></td>
      </tr>
      <tr>
        <td>Bitcoin Dominantie</td>
        <td id="btcDominance">📡 Laden...</td>
        <td id="btcDominanceTrend" class="trend-cell">N/A</td>
        <td id="btcDominanceInterpretation">N/A</td>
        <td id="btcDominanceAction">N/A</td>
        <td class="macro-score" id="btcDominanceScore">-</td>
        <td><button onclick="editIndicator('btc_dominance')">✏️</button></td>
        <td><button onclick="deleteMacroIndicator('btc_dominance')">❌</button></td>
      </tr>
      <tr>
        <td>Dollar Index (DXY)</td>
        <td id="dxy">📡 Laden...</td>
        <td id="dxyTrend" class="trend-cell">N/A</td>
        <td id="dxyInterpretation">N/A</td>
        <td id="dxyAction">N/A</td>
        <td class="macro-score" id="dxyScore">-</td>
        <td><button onclick="editIndicator('dxy')">✏️</button></td>
        <td><button onclick="deleteMacroIndicator('dxy')">❌</button></td>
      </tr>
    </tbody>
  </table>

  <h3>🌍 Totale Macro Score: <span id="macroTotalScore">N/A</span></h3>
  <h3>📈 Macro Advies: <span id="macroAdvice">Neutraal</span></h3>
  <p id="macroStatus" class="loading">📡 Data laden...</p>
</div>

<!-- Overlay voor focus -->
<div id="modalOverlay" class="modal-overlay" style="display:none;"></div>

<!-- Modal voor bewerken -->
<div id="editModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" style="display:none;">
  <h3 id="modalTitle">✏️ Bewerk Indicator</h3>

  <label for="editThresholds">Nieuwe drempelwaarden (laag, midden, hoog):</label><br>
  <input id="editThresholds" name="thresholds" placeholder="Bijv. 30, 50, 70" style="width: 90%;" /><br><br>

  <label for="editPositive">Positieve correlatie:</label>
  <select id="editPositive" name="positive">
    <option value="true">Ja</option>
    <option value="false">Nee</option>
  </select><br><br>

  <button onclick="saveEditChanges()">💾 Opslaan</button>
  <button onclick="closeEditModal()">❌ Annuleren</button>
</div>

<script type="module" src="js/macro.js"></script>
</body>
</html>
