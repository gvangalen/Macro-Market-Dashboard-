<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>📊 Macro Indicatoren</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    .sortable:hover { cursor: pointer; text-decoration: underline; }
    .bullish { color: #28a745; font-weight: bold; }
    .bearish { color: #dc3545; font-weight: bold; }
    .neutral { color: #6c757d; font-weight: bold; }
    .macro-score[data-tooltip]:hover::after {
      content: attr(data-tooltip);
      position: absolute;
      background: #333;
      color: white;
      padding: 6px 10px;
      border-radius: 5px;
      font-size: 12px;
      white-space: pre;
      top: 100%;
      left: 0;
      z-index: 100;
    }
    .macro-filters {
      display: flex;
      gap: 15px;
      margin: 10px 0;
      align-items: center;
    }
    @media (max-width: 768px) {
      .macro-filters { flex-direction: column; align-items: flex-start; }
    }
  </style>
</head>
<body>

<div class="macro-container">
  <h2>📊 Macro Indicatoren</h2>

  <!-- ✅ Filters -->
  <div class="macro-filters">
    <label for="macroFilter">🔍 Filter op naam:</label>
    <input type="text" id="macroFilter" placeholder="bijv. fear, dxy..." />

    <button class="btn-add" onclick="addMacroRow()">➕ Indicator toevoegen</button>
  </div>

  <!-- ✅ Tabel -->
  <table id="macroTable">
    <thead>
      <tr>
        <th class="sortable" onclick="sortMacroTable('name')">Indicator</th>
        <th>Huidig Niveau</th>
        <th class="sortable" onclick="sortMacroTable('trend')">Trend</th>
        <th>Interpretatie</th>
        <th>Actie</th>
        <th class="sortable" onclick="sortMacroTable('score')">Score</th>
        <th>Verwijderen</th>
      </tr>
    </thead>
    <tbody id="macroBody">
      <tr>
        <td>Fear & Greed Index</td>
        <td id="fearGreed">📡 Laden...</td>
        <td id="fearGreedTrend" class="trend-cell">N/A</td>
        <td id="fearGreedInterpretation">N/A</td>
        <td id="fearGreedAction">N/A</td>
        <td class="macro-score" id="fearGreedScore" data-tooltip="Score gebaseerd op extremen: <30 = -2, >70 = +2">-</td>
        <td><button class="btn-remove" onclick="removeRow(this)">❌</button></td>
      </tr>
      <tr>
        <td>Bitcoin Dominantie</td>
        <td id="btcDominance">📡 Laden...</td>
        <td id="btcDominanceTrend" class="trend-cell">N/A</td>
        <td id="btcDominanceInterpretation">N/A</td>
        <td id="btcDominanceAction">N/A</td>
        <td class="macro-score" id="btcDominanceScore" data-tooltip="Score gebaseerd op drempels: 45/50/55">-</td>
        <td><button class="btn-remove" onclick="removeRow(this)">❌</button></td>
      </tr>
      <tr>
        <td>Dollar Index (DXY)</td>
        <td id="dxy">📡 Laden...</td>
        <td id="dxyTrend" class="trend-cell">N/A</td>
        <td id="dxyInterpretation">N/A</td>
        <td id="dxyAction">N/A</td>
        <td class="macro-score" id="dxyScore" data-tooltip="Lager is positiever: <100 = +2, >106 = -2">-</td>
        <td><button class="btn-remove" onclick="removeRow(this)">❌</button></td>
      </tr>
    </tbody>
  </table>

  <h3>🌍 Totale Macro Score: <span id="macroTotalScore">N/A</span></h3>
  <h3>📈 Macro Advies: <span id="macroAdvice">Neutraal</span></h3>
  <p id="macroStatus" class="loading">📡 Data laden...</p>
</div>

<script type="module" src="js/macro.js"></script>
</body>
</html>
